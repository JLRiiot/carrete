(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,n){e.exports=n(357)},357:function(e,t,n){"use strict";n.r(t);var a=n(23),r=n(0),i=n.n(r),o=n(33),c=n.n(o),l=n(25),s=n(36),u=(n(224),n(134)),d=n(27),p=n.n(d),h=n(38),m=n(17),f=n(72),v={api_key:"598d1b35439c46b18d2ce4d843016e23",language:"en-US",page:"1",include_adult:"false"},b=function(){var e=Object(h.a)(p.a.mark(function e(t){var n,a,r,i=arguments;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:1,a=Object(m.a)({},v,{query:t,page:n}),e.next=4,O("https://api.themoviedb.org/3/search/movie?".concat(y(a)));case 4:return r=e.sent,e.abrupt("return",Promise.resolve(r));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(h.a)(p.a.mark(function e(){var t,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(m.a)({},v),e.next=3,O("https://api.themoviedb.org/3/trending/all/day?".concat(y(t)));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=function(e){return new Promise(function(t){fetch(e).then(function(e){return e.json()}).then(function(e){t(e)})})},y=function(e){return f.transform(e,function(e,t,n){e.push("".concat(n,"=").concat(encodeURIComponent(t)))},[]).join("&")},E={search:b,getTrending:g},j=(function(e){var t=e.api;(function(){var e=Object(h.a)(p.a.mark(function e(n){var a,r,i=arguments;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.length>1&&void 0!==i[1]?i[1]:1,""!==n){e.next=4;break}return console.log(n),e.abrupt("return",Promise.resolve([]));case 4:return e.prev=4,e.next=7,t.search(n,a);case 7:return r=e.sent,e.abrupt("return",Promise.resolve(r));case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}},e,null,[[4,11]])}))})()}({api:E}),function(e){var t=e.api;Object(h.a)(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.getTrending(),e.abrupt("return",Promise.resolve(n));case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 8:case"end":return e.stop()}},e,null,[[0,5]])}))}({api:E}),n(70)),w=n.n(j),k=n(43),M=n(35),C=n(18),x=n(19),S=n(21),L=n(20),R=n(22),T=n(32),I=n(5),N=n(68),A=n.n(N),_=n(67),D=n.n(_),H=n(31),P=n(69),F=n.n(P),W=n(137),B=n.n(W),G=n(140),V=n.n(G),U=n(138),q=n.n(U),J=n(139),Y=n.n(J),Z=n(66),$=n.n(Z),z=n(135),K=n.n(z),Q=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(S.a)(this,Object(L.a)(t).call(this,e))).delayedSearch=f.debounce(function(e){n.props.history.push("/search"),n.props.handleSearch(e)},300),n.handleSearch=function(e){return n.delayedSearch(e.target.value)},n}return Object(R.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:e.grow}),i.a.createElement("div",{className:e.search},i.a.createElement("div",{className:e.searchIcon},i.a.createElement(K.a,null)),i.a.createElement($.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},onChange:this.handleSearch.bind(this)})))}}]),t}(r.Component),X=Object(a.withStyles)(function(e){return Object(a.createStyles)({grow:{flexGrow:1},search:Object(T.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(H.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(H.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(T.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})})})(Q),ee=Object(M.d)(Object(l.b)(function(e){return{search:e.browseReducer.search}},function(e){return{handleSearch:function(t){return e(function(e){return function(t,n,a){var r=a.container;t(function(e){return{type:"[Browse] SET_SEARCH",payload:e}}(e)),""!==e?r.getMovies(e).then(function(e){return t({type:"[Movies] LOAD_SEARCH_RESULTS",payload:e.results})}).catch(function(e){return console.error(e)}):t({type:"[Movies] CLEAR_SEARCH_RESULTS"})}}(t))}}})(X)),te=[{title:"Favorites",url:"/favorites",icon:i.a.createElement(B.a,null)},{title:"Watch later",url:"/watchlater",icon:i.a.createElement(q.a,null)},{title:"Trending",url:"/trending",icon:i.a.createElement(Y.a,null)}],ne=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(S.a)(this,Object(L.a)(t).call(this,e))).handleDrawerToggle=function(){n.setState(function(e){return{mobileOpen:!e.mobileOpen}})},n.state={mobileOpen:!1},n}return Object(R.a)(t,e),Object(x.a)(t,[{key:"drawer",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.root},i.a.createElement("div",{className:e.toolbar},i.a.createElement(k.b,{to:"/",className:e.menuItem},i.a.createElement(I.u,{variant:"h6",color:"inherit",noWrap:!0},"The Carrete"))),i.a.createElement(I.g,null),i.a.createElement(I.p,null,te.map(function(t,n){return i.a.createElement(I.q,{button:!0,key:t.url},i.a.createElement(I.r,{className:e.menuItem},t.icon),i.a.createElement(I.s,null,i.a.createElement(k.b,{to:t.url,className:e.menuItem},i.a.createElement(I.u,{className:e.menuItem},t.title))))})),i.a.createElement(I.g,null))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme;return i.a.createElement("div",null,i.a.createElement(A.a,{position:"fixed",className:t.appBar},i.a.createElement(F.a,null,i.a.createElement(D.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerToggle,className:t.menuButton},i.a.createElement(V.a,null)),i.a.createElement(ee,null))),i.a.createElement("nav",{className:t.drawer},i.a.createElement(I.m,{smUp:!0,implementation:"css"},i.a.createElement(I.h,{variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:t.drawerPaper}},this.drawer())),i.a.createElement(I.m,{xsDown:!0,implementation:"css"},i.a.createElement(I.h,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},this.drawer()))))}}]),t}(r.Component),ae=Object(a.withStyles)(function(e){return Object(a.createStyles)({root:{backgroundColor:Object(H.fade)(e.palette.primary.main,1),height:"100%"},appBar:Object(T.a)({marginLeft:200},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(200,"px)")}),drawer:Object(T.a)({},e.breakpoints.up("sm"),{width:200,flexShrink:0}),menuItem:{color:e.palette.common.white,textDecoration:"none",height:24,boxSizing:"content-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap","&$selected":{}},menuButton:Object(T.a)({},e.breakpoints.up("sm"),{display:"none"}),toolbar:Object(m.a)({display:"flex",alignItems:"center",backgroundColor:Object(H.fade)(e.palette.primary.main,1),paddingLeft:2*e.spacing.unit,color:e.palette.common.white},e.mixins.toolbar),drawerPaper:{width:200},title:Object(T.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"})})},{withTheme:!0})(ne),re=n(56),ie=n(141),oe=n.n(ie),ce=n(142),le=n.n(ce);function se(e){return i.a.createElement(I.t,Object.assign({direction:"up"},e))}var ue=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(S.a)(this,Object(L.a)(t).call(this,e))).state={dialogOpen:!1,selectedMovie:void 0},n.handleClickOpen=n.handleClickOpen.bind(Object(re.a)(n)),n.handleClose=n.handleClose.bind(Object(re.a)(n)),n}return Object(R.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleClickOpen",value:function(e){this.setState(function(t){return Object(m.a)({},t,{dialogOpen:!0,selectedMovie:e})})}},{key:"handleClose",value:function(){this.setState(function(e){return Object(m.a)({},e,{dialogOpen:!1,selectedMovie:void 0})})}},{key:"handleClickOk",value:function(){this.state.selectedMovie&&this.props.toggleWatchLater(this.state.selectedMovie),this.handleClose()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.movies,r=t.favoritesIDs;return i.a.createElement("div",{className:n.root},i.a.createElement(I.j,{cellHeight:200,spacing:1,className:n.gridList},a&&a.map(function(t,a){return i.a.createElement(I.k,{onClick:function(){return e.handleClickOpen(t)},key:t.id,cols:2,rows:t.popularity>200?2:1},i.a.createElement("img",{src:"http://image.tmdb.org/t/p/w780".concat(t.poster_path),alt:t.title?t.title:t.name}),i.a.createElement(I.l,{title:t.title?t.title:t.name,titlePosition:"top",className:n.titleBar,actionIcon:i.a.createElement(I.o,{className:n.icon,onClick:function(n){n.stopPropagation(),e.props.toggleFavorite(t)}},r.indexOf(t.id)<0?i.a.createElement(oe.a,null):i.a.createElement(le.a,null)),actionPosition:"left"}))})),i.a.createElement(I.b,{open:this.state.dialogOpen,TransitionComponent:se,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},i.a.createElement(I.f,{id:"alert-dialog-slide-title"},"Adding to playlist"),i.a.createElement(I.d,null,i.a.createElement(I.e,{id:"alert-dialog-slide-description"},this.state.selectedMovie&&"Do you want to add [".concat(this.state.selectedMovie.title,"] to watch later playlist?"))),i.a.createElement(I.c,null,i.a.createElement(I.a,{onClick:this.handleClose,color:"primary"},"No"),i.a.createElement(I.a,{onClick:function(){return e.handleClickOk()},color:"primary"},"Yes"))))}}]),t}(r.Component),de=Object(a.withStyles)(function(e){return Object(a.createStyles)({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper,paddingTop:"60px"},gridList:{width:"100%",transform:"translateZ(0)"},titleBar:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},icon:{color:"white"}})})(ue),pe=Object(M.d)(Object(l.b)(function(e){return{favoritesIDs:e.moviesReducer.favoritesIndex}},function(e){return{toggleFavorite:function(t){return e(function(e){return{type:"[Movies] TOGGLE_FAVORITE",payload:e}}(t))},toggleWatchLater:function(t){return e(function(e){return{type:"[Movies] TOGGLE_WATCH_LATER",payload:e}}(t))}}})(de)),he=function(e){function t(){return Object(C.a)(this,t),Object(S.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.loadFavorites()}},{key:"render",value:function(){var e=this.props.favoriteMovies;return i.a.createElement(r.Fragment,null,i.a.createElement(pe,{movies:e}))}}]),t}(r.Component),me=Object(l.b)(function(e){return{favoriteMovies:e.moviesReducer.favoriteMovies}},function(e){return{loadFavorites:function(){return e(function(e,t,n){n.container})}}})(he),fe=n(55),ve=n.n(fe),be=function(e){function t(){return Object(C.a)(this,t),Object(S.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(I.i,{container:!0,className:e.root},i.a.createElement(I.i,{item:!0,className:e.col1},i.a.createElement(I.n,{className:e.imgContainer},i.a.createElement(ve.a,{className:e.img},i.a.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z"})))),i.a.createElement(I.i,{item:!0,className:e.col2},i.a.createElement(I.u,{className:e.text,variant:"title"},"Your seach didn't produce any results"),i.a.createElement(I.u,{variant:"subtitle1"},"Try a different search")))}}]),t}(r.Component),ge=Object(a.withStyles)(function(e){return Object(a.createStyles)({root:{paddingTop:10*e.spacing.unit},imgContainer:{width:"100%",height:"100%"},img:{height:"100%",width:"100%"},text:{width:"100%",lineHeight:1},col1:{width:"20%"},col2:{width:"80%",display:"flex",flexDirection:"column",justifyContent:"center"}})})(be),Oe=function(e){function t(){return Object(C.a)(this,t),Object(S.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.searchResults,n=e.dirty;return i.a.createElement(r.Fragment,null,n&&!t.length?i.a.createElement(ge,null):i.a.createElement(pe,{movies:t}))}}]),t}(r.Component),ye=Object(l.b)(function(e){var t=e.moviesReducer,n=e.browseReducer;return{searchResults:t.searchResults,dirty:n.dirty}})(Oe),Ee=function(e){function t(){return Object(C.a)(this,t),Object(S.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.loadTrending()}},{key:"render",value:function(){var e=this.props.trendingMovies;return i.a.createElement(r.Fragment,null,i.a.createElement(pe,{movies:e}))}}]),t}(r.Component),je=Object(l.b)(function(e){return{trendingMovies:e.moviesReducer.trendingMovies}},function(e){return{loadTrending:function(){return e(function(e,t,n){n.container.getTrending().then(function(t){return e({type:"[Movies] LOAD_TRENDING_MOVIES",payload:t.results})}).catch(function(e){return console.log(e)})})}}})(Ee),we=function(e){function t(){return Object(C.a)(this,t),Object(S.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.loadWatchLater()}},{key:"render",value:function(){var e=this.props.watchLaterMovies;return i.a.createElement(r.Fragment,null,i.a.createElement(pe,{movies:e}))}}]),t}(r.Component),ke=Object(l.b)(function(e){return{watchLaterMovies:e.moviesReducer.watchLaterMovies}},function(e){return{loadWatchLater:function(){return e(function(e,t,n){n.container})}}})(we);var Me=Object(a.withStyles)(function(e){return Object(a.createStyles)({root:{display:"flex"}})})(function(e){var t=e.classes;return i.a.createElement(k.a,null,i.a.createElement("div",{className:t.root},i.a.createElement(w.a,null),i.a.createElement(ae,null),i.a.createElement(M.a,{path:"/",exact:!0,component:je}),i.a.createElement(M.a,{path:"/trending",exact:!0,component:je}),i.a.createElement(M.a,{path:"/search",exact:!0,component:ye}),i.a.createElement(M.a,{path:"/favorites",component:me}),i.a.createElement(M.a,{path:"/watchlater",component:ke})))}),Ce={search:"",dirty:!1},xe={searchResults:[],favoritesIndex:[],favoriteMovies:[],watchLaterIndex:[],watchLaterMovies:[],trendingMovies:[]},Se=function(e,t){var n=t.slice();return n.splice(n.length-1,0,e),n},Le=function(e,t,n){return t.filter(n)},Re=Object(s.combineReducers)({moviesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Movies] LOAD_SEARCH_RESULTS":return Object(m.a)({},e,{searchResults:t.payload});case"[Movies] CLEAR_SEARCH_RESULTS":return Object(m.a)({},e,{searchResults:[]});case"[Movies] TOGGLE_FAVORITE":var n=e.favoritesIndex.indexOf(t.payload.id)<0;return Object(m.a)({},e,{favoritesIndex:n?Se(t.payload.id,e.favoritesIndex):Le(t.payload.id,e.favoritesIndex,function(e){return e!==t.payload.id}),favoriteMovies:n?Se(t.payload,e.favoriteMovies):Le(t.payload,e.favoriteMovies,function(e){return e.id!==t.payload.id})});case"[Movies] LOAD_FAVORITE_MOVIES":return Object(m.a)({},e,{favoriteMovies:t.payload});case"[Movies] LOAD_WATCH_LATER":return Object(m.a)({},e,{watchLaterMovies:t.payload});case"[Movies] LOAD_TRENDING_MOVIES":return Object(m.a)({},e,{trendingMovies:t.payload});case"[Movies] TOGGLE_WATCH_LATER":var a=e.favoritesIndex.indexOf(t.payload.id)<0;return Object(m.a)({},e,{watchLaterIndex:a?Se(t.payload.id,e.watchLaterIndex):Le(t.payload.id,e.watchLaterIndex,function(e){return e!==t.payload.id}),watchLaterMovies:a?Se(t.payload,e.watchLaterMovies):Le(t.payload,e.watchLaterMovies,function(e){return e.id!==t.payload.id})});default:return e}},browseReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Browse] SET_SEARCH":return Object(m.a)({},e,{search:t.payload,dirty:!0});default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Te=Object(a.createMuiTheme)({palette:{primary:{main:"#263238"},secondary:{main:"#3949ab"}},typography:{useNextVariants:!0}}),Ie=Object(s.createStore)(Re,Object(s.applyMiddleware)(u.a));c.a.render(i.a.createElement(l.a,{store:Ie},i.a.createElement(a.MuiThemeProvider,{theme:Te},i.a.createElement(Me,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[215,1,2]]]);
//# sourceMappingURL=main.7f964ecb.chunk.js.map